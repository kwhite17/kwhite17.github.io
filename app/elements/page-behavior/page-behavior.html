<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<script>
  PageBehavior = {
    listeners: {
      'description-displayed': '_onDescriptionDisplayed',
      'description-hidden': '_onDescriptionHidden'
    },

    attached: function() {
      this._setLayoutClass();
    },

    _onDescriptionDisplayed: function(e, source) {
      var cards = this.querySelectorAll('expandable-paper-card');
      var i;

      for(i = 0; i < cards.length; i++) {
        if (source !== cards[i]) { cards[i].style.display = "none"; }
      }
    },

    _onDescriptionHidden: function() {
      var cards = this.querySelectorAll('expandable-paper-card');
      var i;

      for(i = 0; i < cards.length; i++) {
        cards[i].style.display = "";
      }
    },

    _setLayoutClass: function() {
      var children = this.$$('.container').children;
      var i;

      if (1 < children.length) {
        for (i = 0; i < children.length; i++) {
          var classes = children[i].getAttribute('class');

          children[i].setAttribute('class', classes.concat(' sibling-card'));
        }
      }
    }
  };
</script>
